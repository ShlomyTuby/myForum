
<div class="post_div">
<form ng-if="$ctrl.isNewPost" ng-submit="$ctrl.savePost($ctrl.post)" class="form-inline replay-container">
  <button type="submit" class="btn btn-primary btn-sm"><<</button>
  <div class="form-group">
    <input class="post_text_input"  ng-model="$ctrl.post.text" type="text" required class="form-control" id="text" placeholder="{{ $ctrl.parentPost ? 'RE: ' + $ctrl.parentPost.text : 'new post' }}">
  </div>
</form>

<div ng-if="!$ctrl.isNewPost">
  <h4 ng-if="$ctrl.post.header">{{$ctrl.post.header}}</h4><h5> {{$ctrl.post.text}} <small># {{$ctrl.post.author}} ({{ $ctrl.post.viewersCount }} viewers)</small>
    <span class="action-link" ng-class="{'active': false}" ng-click="$ctrl.deletePost($ctrl.post)">Delete</span>
    <span class="action-link" ng-class="{'active': mode.showDetails}" ng-click="$ctrl.toggelMode('Details')">Show Childrens {{ $ctrl.replayCount }}</span>
    <span class="action-link" ng-class="{'active': mode.showReplay}" ng-click="$ctrl.toggelMode('Replay')">Replay</span>
  </h5>     
  <post ng-if="mode.showReplay" parent-post="$ctrl.post" on-post-change="$ctrl._onPostChange($event)"></post>
</div>

<div ng-if="$ctrl.posts && mode.showDetails ">
   <post ng-repeat="item in $ctrl.posts | orderBy:'$index':true" post="item"  on-post-change="$ctrl._onPostChange($event)" ></post>
</div>
</div>